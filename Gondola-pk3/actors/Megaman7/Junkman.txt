actor Junkman : ClassBase //125
{
Player.ScoreIcon "C_07B0X"
player.displayname "junkman"
player.soundclass "junkmanc"
player.startitem "JunkShieldBoss"
player.startitem "JunkShieldUseItem"
player.startitem "JunkLeakSpawner"
//player.startitem "JunkShielderBoss"
player.startitem "TrunkAmmo",600

player.maxhealth 1250
health 1250
player.forwardmove 0.6, 0.6
player.sidemove 0.58, 0.58
player.jumpz 11

player.startitem "ThunderBoltWeakness2", 1

player.startitem "ThunderBeamWeakness", 1
player.startitem "CrashBombWeakness", 1
player.startitem "SparkShockWeakness", 1
player.startitem "ThunderBoltWeakness", 1
player.startitem "ThunderClawWeakness", 1
player.startitem "LightningBoltWeakness", 1
player.startitem "PlugBallWeakness", 1
player.startitem "ElectricShockWeakness", 1

States
{
Spawn:
JUNM A 0
JUNM B 1 A_JumpIfInventory("VivifyDelay5",1,"Missile2")
JUNM A 1 A_JumpIfInventory("VivifyDelay5",1,"Missile2")
Goto Spawn+2
See:
JUNM BCDE 5 A_JumpIfInventory("VivifyDelay5",1,"Missile2")
Goto Spawn
Missile:
JUNM FG 4
goto Spawn
Missile2:
JUNM FFG 4
goto Spawn
ClassPain:
JUNM H 0
goto PainContinue
DeathFix:
JUNM H 0 A_JumpIfInventory("TrunkAmmo",500,1)
goto DeathContinue
JUNM H 0 A_GiveInventory("SpecialDeathFlag",1)
goto DeathContinue
ClassDeath:
JUNM H 0 A_PlaySoundEx("weapon/JunkBreaker","SoundSlot7")
JUNM HHHHHHHH 0 A_SpawnItemEx("JunkLeakBit",random(0,8),0,random(12,48),random(4,9),0,random(7,14),random(0,359),1)
goto DeathContinue+2

}
}

actor JunkLeakSpawner : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_SpawnItemEX("JunkLeakGiver")
stop
}
}

actor JunkLeakGiver
{
Height 0
Radius 0
+NOINTERACTION
-SOLID
+NOGRAVITY
+MISSILE
States
{
Spawn:
TNT1 A 1
TNT1 A 0 A_JumpIfInTargetInventory("JunkShieldBoss",1,1)
//goto Death
goto OneMore
TNT1 A 0 A_GiveToTarget("JunkLeak",1)
TNT1 A 0
loop
OneMore:
TNT1 A 0 A_GiveToTarget("JunkLeak",1)
Death:
TNT1 A 0
stop
}
}

actor LeakStock : Inventory
{
inventory.amount 1
inventory.maxamount 999
}

actor JunkLeak : CustomInventory
{
States
{
Pickup:
TNT1 A 0 ACS_NamedExecuteAlways("cbm_HealthDamageRage",0,13)
DUST B 0 A_JumpIfInventory("LeakStock",10, "Pickup2") 
stop
Pickup2:
DUST B 0 A_TakeInventory("LeakStock",10)
DUST B 0 A_SpawnItemEx("JunkSpewerB",0,0,0,0,0,0,0,1)
goto Pickup+1
}
}

actor JunkBits1 : ScrapMetalBase
{
+INVENTORY.QUIET
States
{
Spawn2:
JUCT H 500
stop
}
}

actor JunkBits2 : JunkBits1
{
States
{
Spawn2:
JUCT I 500
stop
}
}

actor JunkBits3 : JunkBits1
{
States
{
Spawn2:
JUCT J 500
stop
}
}

actor JunkBits4 : JunkBits1
{
States
{
Spawn2:
JUCT K 500
stop
}
}

actor JunkBits5 : JunkBits1
{
States
{
Spawn2:
JUCT L 500
stop
}
}

actor JunkBits6 : JunkBits1
{
States
{
Spawn2:
JUCT M 500
stop
}
}

actor JunkBits7 : JunkBits1
{
States
{
Spawn2:
JUCT N 500
stop
}
}

actor JunkBits8 : JunkBits1
{
States
{
Spawn2:
JUCT O 500
stop
}
}

actor JunkBits9 : JunkBits1
{
States
{
Spawn2:
JUCT P 500
stop
}
}

actor JunkBitsX : JunkBits1
{
States
{
Spawn2:
TNT1 A 0 A_Jump(256,"S_1","S_2","S_3","S_4","S_5","S_6","S_7","S_8","S_9")
TNT1 A 1
loop
S_1:
JUCT H 500
stop
S_2:
JUCT I 500
stop
S_3:
JUCT J 500
stop
S_4:
JUCT K 500
stop
S_5:
JUCT L 500
stop
S_6:
JUCT M 500
stop
S_7:
JUCT N 500
stop
S_8:
JUCT O 500
stop
S_9:
JUCT P 500
stop
}
}

actor ClassJunkBit : ScrapMetalBase
{
States
{
Spawn2:
TNT1 A 0 A_Jump(256,"S_3","S_4","S_5","S_6","S_7","S_8","S_9")
TNT1 A 1
loop
S_1:
JUCT H 500
stop
S_2:
JUCT I 500
stop
S_3:
JUCT J 500
stop
S_4:
JUCT K 500
stop
S_5:
JUCT L 500
stop
S_6:
JUCT M 500
stop
S_7:
JUCT N 500
stop
S_8:
JUCT O 500
stop
S_9:
JUCT P 500
stop
}
}

actor JunkLeakBit : JunkBits1
{
States
{
Spawn2:
TNT1 A 0
//TNT1 A 0 A_GiveInventory("ScrapMetalFlag",1)
//TNT1 A 0 ACS_ExecuteAlways(148,0)
TNT1 A 0 A_Jump(256,1,2,3,4,5,6,7,8)

JUCT I 500
stop
JUCT J 500
stop
JUCT K 500
stop
JUCT L 500
stop
JUCT M 500
stop
JUCT N 500
stop
JUCT O 500
stop
JUCT P 500
stop
}
}

actor JunkSpewerB : BasicHelper
{
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_SpawnItemEx("JunkLeakBit",40,0,0,random(9,11),0,random(11,14),random(0,359),1)
stop
}
}