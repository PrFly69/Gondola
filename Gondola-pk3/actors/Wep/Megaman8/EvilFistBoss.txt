actor EvilFistC : BaseMM8BDMWep_CBM
{
tag "$TAGC_8K"
dropitem "DuoFistUpgrade2GiverDropped"
Weapon.AmmoUse 1
Weapon.AmmoGive 3
Weapon.SlotNumber 1
Obituary "$OB_EVILBEAM"//$OB_EVILFIST//Due to NONETID it uses the Weapon Obit
Inventory.Pickupmessage "You got the Evil Fist!"
weapon.ammotype "A1EvilAmmo"
States
{
Spawn:
C_08 K 1
loop
Ready:
ERO8 A 0 A_JumpIfInventory("Once",1,"Ready2")
ERO8 A 0 ACS_ExecuteAlways(981,0,0)
ERO8 A 0 ACS_NamedExecuteAlways("cbm_CopyWepAmmoSet",0,2,3)
ERO8 A 0 A_GiveInventory("LMSCheckPickup",1)
ERO8 A 0 A_SpawnItemEX("TrioRageManager")
ERO8 A 0 A_GiveInventory("Once",1)
Goto Ready2
Ready2:
ERO8 A 0 ACS_ExecuteAlways(998,0,DYE_EVILROBOT)
ERO8 A 0 ACS_ExecuteAlways(998,0,DYE_EVILROBOT,1)
ERO8 A 0 A_TakeInventory("WeaponCharge",999)
ERO8 A 1 A_WeaponReady
Goto Ready2+3
Deselect:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Lower
ERO8 A 1 A_Lower
Loop
Select:
TNT1 AAAAAAAAAAAAAAAAAAAAAA 0 A_Raise
ERO8 A 1 A_Raise
Loop

Fire:
ERO8 A 0 ACS_ExecuteAlways(512,0,5)
ERO8 B 0 A_Refire("FireH")
goto Fire2
Fire2:
ERO8 A 0 ACS_ExecuteAlways(512,0,2)
ERO8 B 0 A_TakeInventory("WeaponCharge",999)
ERO8 B 0 ACS_ExecuteAlways(991,0,DYE_EVILROBOT)
ERO8 B 0 A_PlaySoundEx("weapon/DuoShot2","Weapon")
ERO8 B 0 A_GiveInventory("EvilMain2_CI",1)

//ERO8 GH 1
//ERO8 IJ 8

ERO8 B 2 Offset(-12,12) // offset(-6,29)
ERO8 L 2 Offset(-20,12) // offset(-12,26)
ERO8 L 2 Offset(-12,20) // offset(-14,24)
ERO8 B 2 Offset(8,40) // offset(-11,25)
ERO8 K 2 Offset(4,36)  // offset(-8,27)
ERO8 B 2  //Offset(4,36) // offset(-6,29)
ERO8 K 3 offset(-4,30)
ERO8 B 3 offset(-2,31)
ERO8 B 4
ERO8 A 8
ERO8 A 0 
goto Ready2+2
Fire3:
ERO8 A 0 ACS_ExecuteAlways(512,0,2)
ERO8 B 0 A_TakeInventory("WeaponCharge",999)
ERO8 B 0 ACS_ExecuteAlways(991,0,DYE_EVILROBOT)
ERO8 B 0 A_PlaySoundEx("weapon/DuoShot3","Weapon")
ERO8 B 0 A_GiveInventory("EvilMain3_CI",1)

//ERO8 GH 2
//ERO8 IJ 8
ERO8 H 0 A_JumpIfInventory("PowerRage_ST",1,"Fire3_R")
ERO8 H 1 Offset(-1,34)
ERO8 H 1 Offset(-10,28)
ERO8 JIJIJ 2 Offset(-14,24)
ERO8 J 1 Offset(-14,24)
ERO8 J 1 Offset(-11,25)
ERO8 J 1 Offset(-8,26)
ERO8 J 1 Offset(-6,27)
ERO8 J 1 Offset(-4,28)
ERO8 J 1 Offset(-3,29)
ERO8 J 1 Offset(-2,30)
ERO8 J 1 Offset(-1,31)

ERO8 A 2 A_WeaponReady(14)
ERO8 A 6
ERO8 A 0 A_Refire("FireH")
goto Ready2+2
Fire3_R:
ERO8 H 1 Offset(-5,34)
ERO8 JIJIJ 2 Offset(-14,24)
ERO8 J 1 Offset(-11,25)
ERO8 J 1 Offset(-8,26)
ERO8 J 1 Offset(-4,28)
ERO8 J 1 Offset(-2,30)

ERO8 A 2 A_WeaponReady(14)
ERO8 A 6
ERO8 A 0 A_Refire("FireH")
goto Ready2+2


FireH:
ERO8 A 0 ACS_ExecuteAlways(512,0,5)
ERO8 B 0 A_JumpIfInventory("WeaponCharge",10,"FireH0")
ERO8 B 1 A_GiveInventory("WeaponChargeRageCheck",1)
ERO8 B 0 A_Refire("FireH")
Goto Fire2
FireH0:
ERO8 A 0 ACS_ExecuteAlways(512,0,5)
ERO8 C 0 A_GunFlash
goto FireH1
FireH1:
ERO8 A 0 ACS_ExecuteAlways(512,0,5)
ERO8 B 0 A_JumpIfInventory("WeaponCharge",28,"Charge0")
ERO8 B 1 A_GiveInventory("WeaponChargeRageCheck",1)
ERO8 B 0 A_Refire("FireH1")
Goto Fire2
Charge0:
ERO8 A 0 ACS_ExecuteAlways(512,0,5)
ERO8 D 0 A_PlaySoundEx("weapon/TrioCharge1","Weapon")
Goto Charge1
Charge1:
ERO8 A 0 ACS_ExecuteAlways(512,0,5)
ERO8 C 0 A_JumpIfInventory("WeaponCharge",45,"Charge2Flash")
ERO8 C 1 ACS_ExecuteAlways(998,0,DYE_TRIO_CHARGE1,5)
ERO8 C 0 A_Refire("Charge1.a")
Goto Fire2
Charge1.a:
ERO8 A 0 ACS_ExecuteAlways(512,0,5)
ERO8 B 1 ACS_ExecuteAlways(998,0,DYE_EVILROBOT,1)
ERO8 B 0 A_GiveInventory("WeaponChargeRageCheck",1)
ERO8 B 0 A_Refire("Charge1")
Goto Fire2
Charge2Flash:
ERO8 E 0 ACS_ExecuteAlways(512,0,5)
ERO8 E 0 A_GunFlash("Flash2")
ERO8 E 1 Offset(2,34)ACS_ExecuteAlways(998,0,DYE_TRIO_CHARGE2,6)
ERO8 E 0 A_Refire(1)
Goto Fire3
ERO8 F 0 ACS_ExecuteAlways(512,0,5)
ERO8 F 1 Offset(4,36)ACS_ExecuteAlways(998,0,DYE_TRIO_CHARGE3,7)
ERO8 F 0 A_Refire(1)
Goto Fire3
ERO8 G 0 ACS_ExecuteAlways(512,0,5)
ERO8 G 1 Offset(6,38)ACS_ExecuteAlways(998,0,DYE_EVILROBOT,1)
ERO8 G 0 A_Refire(1)
Goto Fire3
ERO8 E 0 ACS_ExecuteAlways(512,0,5)
ERO8 E 1 Offset(7,39)ACS_ExecuteAlways(998,0,DYE_TRIO_CHARGE2,6)
ERO8 E 0 A_Refire(1)
Goto Fire3
ERO8 F 0 ACS_ExecuteAlways(512,0,5)
ERO8 F 1 Offset(8,40)ACS_ExecuteAlways(998,0,DYE_TRIO_CHARGE3,7)
ERO8 F 0 A_Refire(1)
Goto Fire3
ERO8 G 0 ACS_ExecuteAlways(512,0,5)
ERO8 G 1 Offset(9,41)ACS_ExecuteAlways(998,0,DYE_EVILROBOT,1)
ERO8 G 0 A_Refire("Charge2")
Goto Fire3
Charge2:
ERO8 E 0 ACS_ExecuteAlways(512,0,3)
ERO8 E 1 ACS_ExecuteAlways(998,0,DYE_TRIO_CHARGE2,6)
ERO8 E 0 A_Refire("Charge2.a")
Goto Fire3
Charge2.a:
ERO8 F 0 ACS_ExecuteAlways(512,0,5)
ERO8 F 1 ACS_ExecuteAlways(998,0,DYE_TRIO_CHARGE3,7)
ERO8 F 0 A_Refire("Charge2.b")
Goto Fire3
Charge2.b:
ERO8 G 0 ACS_ExecuteAlways(512,0,4)
ERO8 G 1 ACS_ExecuteAlways(998,0,DYE_EVILROBOT,1)
ERO8 G 0 A_JumpIfInventory("IsBot",1,"BotFire")
ERO8 G 0 A_Refire("Charge2")
Goto Fire3
BotFire:
ERO8 D 0 A_Jump(16,"Fire3")
ERO8 D 0 A_Refire("Charge2")
Goto Fire3

Flash:
TNT1 A 1
TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("WeaponCharge",1,1)
stop
TNT1 A 1
TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("WeaponCharge",1,1)
stop
TNT1 A 1
TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("WeaponCharge",1,1)
stop
TNT1 A 1
TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("WeaponCharge",1,1)
stop
TNT1 A 1
TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("WeaponCharge",1,1)
stop
TNT1 A 1
TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("WeaponCharge",1,"Flash")
stop

Flash2:
TNT1 A 0 A_PlaySoundEx("weapon/TrioCharge2","Weapon")
TNT1 A 1
TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("WeaponCharge",1,1)
stop
TNT1 A 1
TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("WeaponCharge",1,1)
stop
TNT1 A 1
TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("WeaponCharge",1,1)
stop
TNT1 A 1
TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("WeaponCharge",1,1)
stop
TNT1 A 1
TNT1 A 0 A_JumpIfInventory("IsDead",1,"NoFlash")
TNT1 A 0 A_JumpIfInventory("WeaponCharge",1,"Flash2")
stop

User1Fire:
ERO8 B 0 A_TakeInventory("WeaponCharge",999)
ERO8 B 0 ACS_ExecuteAlways(991,0,DYE_EVILROBOT)
ERO8 B 0 A_PlaySoundEx("weapon/DuoShot2","Weapon")
ERO8 B 0 A_GiveInventory("EvilMain2_CI",1)
ERO8 B 2 Offset(-12,12) // offset(-6,29)
ERO8 L 2 Offset(-20,12) // offset(-12,26)
ERO8 L 2 Offset(-12,20) // offset(-14,24)
ERO8 B 2 Offset(8,40) // offset(-11,25)
ERO8 K 2 Offset(4,36)  // offset(-8,27)
ERO8 B 2  //Offset(4,36) // offset(-6,29)
ERO8 K 3 offset(-4,30)
ERO8 B 3 offset(-2,31)
ERO8 B 4
ERO8 A 8
ERO8 A 0 
goto Ready2+2

Altfire:
ERO8 A 0 A_JumpIf(ACS_NamedExecuteWithResult("cbm_user1_check")==1, "User1Fire")
ERO8 A 0 A_JumpIfInventory("TrioRageWeakness",1,"Altfire2")
ERO8 A 0 A_JumpIfInventory("EvilRageAmmo",1120,"RageActivate")
Goto Ready2+3
Altfire2:
ERO8 A 0 A_JumpIfInventory("GigaMans",8,"EvilAlt8")
ERO8 A 0 A_JumpIfInventory("GigaMans",7,"EvilAlt7")
ERO8 A 0 A_JumpIfInventory("GigaMans",6,"EvilAlt6")
ERO8 A 0 A_JumpIfInventory("GigaMans",5,"EvilAlt5")
ERO8 A 0 A_JumpIfInventory("GigaMans",4,"EvilAlt4")
ERO8 A 0 A_JumpIfInventory("GigaMans",3,"EvilAlt3")
ERO8 A 0 A_JumpIfInventory("GigaMans",2,"EvilAlt2")
ERO8 A 0 A_JumpIfInventory("GigaMans",1,"EvilAlt1")
ERO8 A 0 A_JumpIfInventory("TrioRageWeakness",1,"EvilAlt0")
Goto Ready2+3
RageActivate:
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO8 A 0 A_PlaySoundEx("weapon/TrioRage","SoundSlot7")
ERO8 A 0 A_GiveInventory("TrioRageOnPickup",1)
ERO8 A 2 Offset(2,34)
ERO8 B 2 Offset(5,37)
ERO8 C 2 Offset(8,40)
ERO8 D 0 A_JumpIfInventory("PowerRage_ST",1,"RageActivate_R")
ERO8 DEFDEFDEF 1 Offset(11,43)
ERO8 C 2 Offset(8,40)
ERO8 B 2 Offset(5,37)
ERO8 A 2 Offset(2,34)
Goto Ready2+3
RageActivate_R:
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO8 DEFDEF 1 Offset(11,43)
ERO8 C 2 Offset(8,40)
ERO8 B 2 Offset(5,37)
ERO8 A 2 Offset(2,34)
Goto Ready2+3

EvilAlt8://AstroCrush
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 A 0 A_PlaySoundEx("weapon/mirrorabsorb","Weapon")
ERO7 A 0 A_TakeInventory("EvilRageAmmo",560)
ERO7 A 0 A_GiveInventory("IsAngery")
ERO7 A 0 A_SpawnItemEx("TrioAstroCrush",0,0,0,0,0,0,0,1)
//ERO7 ABCDEEDCBA 3
ERO7 BBAACCDD 3
TNT1 AA 3
TNT1 A 2
TNT1 A 0 A_TakeInventory("IsAngery",99)
goto EvilAltEnd
EvilAlt7://IceWave
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 F 0 A_GiveInventory("IsAngery")
ERO7 F 4 OffSet(0,24)A_PlaySoundEx("weapon/pcharge","Weapon")
ERO7 F 4 OffSet(0,-6)
ERO7 F 4 OffSet(0,-36)A_SpawnItemEx("TrioIceWaveCharging",0,0,28,0,0,0,0,1)
ERO7 F 4 OffSet(0,-66)

ERO7 G 2 OffSet(1,-66)
ERO7 G 2 OffSet(-3,-66)
ERO7 G 2 OffSet(1,-66)
ERO7 G 2 OffSet(-3,-66)
ERO7 G 2 OffSet(1,-66)
ERO7 G 2 OffSet(-3,-66)
ERO7 G 2 OffSet(1,-66)
ERO7 G 2 OffSet(-3,-66)
ERO7 G 2 OffSet(1,-66)

ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 G 0 A_PlaySoundEx("weapon/BlizzStrike","Weapon")
ERO7 G 0 A_TakeInventory("EvilRageAmmo",560)

ERO7 G 0 A_WeaponReady(14)
ERO7 G 3 Offset(0,-19)A_SpawnItemEx("TrioIceWave",0,0,8,cos(-pitch)*20,0,sin(-pitch)*20,0,1)
ERO7 H 3 Offset(0,28)A_TakeInventory("TrioFireFlag",1)
ERO7 H 21 Offset(0,48)
ERO7 H 3 OffSet(0,40)
ERO7 H 0 A_TakeInventory("IsAngery",99)
goto EvilAltEnd
EvilAlt6://WaterBalloon
ERO7 I 0 A_GiveInventory("IsAngery")
ERO7 I 2 OffSet(8,44)
ERO7 I 2 A_WeaponReady(14)
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 I 0 A_PlaySoundEx("weapon/waterballoon","Weapon")
ERO7 I 0 A_TakeInventory("EvilRageAmmo",280)
ERO7 I 0 A_SpawnItemEx("TrioBalloon",0,0,28,cos(-pitch)*15,0,sin(-pitch)*15,0,1)
ERO7 JKLMN 3
ERO7 I 6 OffSet(24,56)
ERO7 I 2 OffSet(8,44)
ERO7 I 2 A_WeaponReady(14)
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 I 0 A_PlaySoundEx("weapon/waterballoon","Weapon")
ERO7 I 0 A_TakeInventory("EvilRageAmmo",280)
ERO7 I 0 A_SpawnItemEx("TrioBalloon",0,0,28,cos(-pitch)*15,0,sin(-pitch)*15,0,1)
ERO7 J 0 A_TakeInventory("TrioFireFlag",1)
ERO7 JKLMN 3
ERO7 N 18 OffSet(24,56)
ERO7 A 0 A_TakeInventory("IsAngery",99)
goto EvilAltEnd6
EvilAlt5://HomingSniper
ERO7 O 0 A_SpawnItemEx("TrioSniper",0,0,28,cos(-pitch)*100,0,sin(-pitch)*100,0,1)
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 O 0 A_WeaponReady(14)
ERO7 O 0 A_GiveInventory("IsAngery")
ERO7 O 1 A_GiveInventory("AdapterWaitCount",1)
ERO7 O 0 A_JumpIfInventory("AdapterWaitCount",100,"EvilAlt5End")
ERO7 O 0 A_JumpIfInventory("CutterFlag",1,"EvilAlt5_Fire")
goto EvilAlt5+1
EvilAlt5End:
ERO7 O 0 A_TakeInventory("CutterFlag",999)
ERO7 O 0 A_TakeInventory("AdapterWaitCount",999)
ERO7 O 0 A_TakeInventory("EvilRageAmmo",70)
ERO7 O 0 Thing_Remove(TID+7000)
ERO7 O 0 A_TakeInventory("IsAngery",99)
ERO7 RORO 2 A_PlaySoundEx("S3_K/MetalSpark","Weapon")
ERO7 O 0 A_TakeInventory("CutterFlag",999)
ERO7 O 0 A_TakeInventory("AdapterWaitCount",999)
ERO7 O 0 A_TakeInventory("TrioFireFlag",1)
ERO7 RO 2 A_PlaySoundEx("S3_K/MetalSpark","Weapon")
goto EvilAltEnd
EvilAlt5_Fire:
ERO7 O 0 A_TakeInventory("CutterFlag",999)
ERO7 O 0 A_TakeInventory("AdapterWaitCount",999)
ERO7 O 0 A_TakeInventory("EvilRageAmmo",560)
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 PQRPQRPQRPQRPQRPQRPQRPQRPQRPQRPQRPQRPQRPQRPQRPQRPQRPQRPQRPQR 1 A_SpawnItemEx("TrioMissiles",20,random(-64,64),random(-8,70),0,0,0,0,1)
ERO7 O 0 A_TakeInventory("CutterFlag",999)
ERO7 O 0 A_TakeInventory("AdapterWaitCount",999)
ERO7 O 0 A_TakeInventory("TrioFireFlag",1)
ERO7 PQRO 2
ERO7 O 15
ERO7 O 0 A_TakeInventory("IsAngery",99)
goto EvilAltEnd
EvilAlt4://ThunderClaw
ERO7 A 0 A_GiveInventory("IsAngery")
ERO7 S 0 A_TakeInventory("EvilRageAmmo",560)
ERO7 S 0 A_SpawnItemEx("TrioThunderClawHelper",0,0,0,0,0,0,0,1)
ERO7 S 0 A_PlaySoundEx("misc/wilylightning","Weapon")
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 TUV 3
ERO7 U 1
ERO7 U 2 A_PlaySoundEx("misc/wilylightning","Weapon")
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 TU 3
ERO7 V 2
ERO7 V 1 A_PlaySoundEx("misc/wilylightning","Weapon")
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 UTU 3
ERO7 V 0 A_PlaySoundEx("misc/wilylightning","Weapon")
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 VUTUV 3
ERO7 S 0 A_PlaySoundEx("misc/wilylightning","Weapon")
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 TUV 3
ERO7 U 1
ERO7 U 2 A_PlaySoundEx("misc/wilylightning","Weapon")
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 TU 3
ERO7 V 2
ERO7 V 1 A_PlaySoundEx("misc/wilylightning","Weapon")
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 UTU 3
ERO7 V 0 A_PlaySoundEx("misc/wilylightning","Weapon")
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 VUTUV 3
ERO7 V 15 A_TakeInventory("TrioFireFlag",1)
ERO7 V 0 A_TakeInventory("IsAngery",99)
goto EvilAltEnd
EvilAlt3://TornadoHold
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 A 0 A_GiveInventory("IsAngery")
ERO7 W 0 A_SpawnItemEx("TrioTornadoHelper")
ERO7 WWWWWWWWWWWWWWWWWWWWWWWW 1
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 X 0 A_TakeInventory("EvilRageAmmo",560)
ERO7 X 0 A_SpawnItemEx("TrioTornado",0,0,0,20,0,0,0,1)
ERO7 X 0 A_SpawnItemEx("TrioTornado",0,0,0,20,0,0,90,1)
ERO7 X 0 A_SpawnItemEx("TrioTornado",0,0,0,20,0,0,-90,1)
ERO7 X 0 A_SpawnItemEx("TrioTornado",0,0,0,20,0,0,180,1)
ERO7 X 0 A_TakeInventory("TrioFireFlag",1)
ERO7 XY 3
ERO7 Y 3 OffSet(12,47)
ERO7 Y 3 OffSet(26,62)
ERO7 Y 0 A_TakeInventory("IsAngery",99)
goto EvilAltEnd
EvilAlt2://FlashBomb
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 A 0 A_GiveInventory("IsAngery")
ERO8 Q 1
ERO8 Q 0 A_PlaySoundEx("weapon/magnetmissile","Weapon")
ERO8 Q 0 A_TakeInventory("EvilRageAmmo",560)

ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,8,sin(-pitch)*55,0,1)
ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,16,sin(-pitch)*55,0,1)
//ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,24,sin(-pitch)*55,0,1)
ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,-8,sin(-pitch)*55,0,1)
ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,-16,sin(-pitch)*55,0,1)
//ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,-24,sin(-pitch)*55,0,1)

ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,0,sin(-pitch)*55,0,1)

//ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,0,sin(-pitch)*55+24,0,1)
ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,0,sin(-pitch)*55+16,0,1)
ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,0,sin(-pitch)*55+8,0,1)
ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,0,sin(-pitch)*55-8,0,1)
ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,0,sin(-pitch)*55-16,0,1)
//ERO8 Q 0 A_SpawnItemEx("TrioFlashBomb",cos(-pitch)*9,8,28+(sin(-pitch)*9),cos(-pitch)*55,0,sin(-pitch)*55-24,0,1)

ERO8 Q 4 OffSet(22,56)A_TakeInventory("TrioFireFlag",1)
ERO8 Q 4 OffSet(42,75)
ERO8 Q 4 OffSet(22,56)
ERO8 Q 35 A_WeaponReady(14)
ERO7 Q 0 A_TakeInventory("IsAngery",99)
goto EvilAltEnd2
EvilAlt1://FlameSword
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO7 A 0 A_GiveInventory("IsAngery")
ERO8 R 2 OffSet(136,-13)A_PlaySoundEx("weapon/mirrorabsorb","Weapon")
ERO8 R 2 OffSet(98,-1)
ERO8 R 2 OffSet(60,11)
ERO8 R 2 OffSet(30,22)
ERO8 R 6 OffSet(1,33)
ERO8 R 2 OffSet(20,18)
ERO8 S 2 OffSet(1,33)
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO8 S 0 A_PlaySoundEx("weapon/atomicfire","Weapon")
ERO8 S 0 A_TakeInventory("EvilRageAmmo",280)
ERO8 S 2 OffSet(50,18)A_SpawnItemEx("TrioFlameSwing1",0,0,28,cos(-pitch)*1,0,sin(-pitch)*1,0,1)
ERO8 S 2 OffSet(91,-3)
ERO8 T 2 OffSet(1,33)
ERO8 T 2 OffSet(50,33)
TNT1 A 4
ERO8 U 2 OffSet(24,19)
ERO8 A 0 ACS_ExecuteAlways(512,0,1)
ERO8 U 0 A_PlaySoundEx("weapon/atomicfire","Weapon")
ERO8 U 0 A_TakeInventory("EvilRageAmmo",280)
ERO8 U 2 OffSet(1,33)A_SpawnItemEx("TrioFlameSwing2",0,0,28,cos(-pitch)*1,0,sin(-pitch)*1,0,1)
ERO8 V 2 OffSet(1,33)A_TakeInventory("TrioFireFlag",1)
ERO8 V 2 OffSet(-57,43)
ERO8 V 2 OffSet(-143,56)
ERO8 W 2 OffSet(17,21)
ERO8 W 2 OffSet(8,27)
ERO8 W 16 OffSet(-1,33)
ERO8 W 2 OffSet(26,31)
ERO8 W 2 OffSet(52,29)
ERO8 W 2 OffSet(78,28)
ERO8 W 2 OffSet(102,27)
ERO8 W 2 OffSet(124,26)
ERO8 W 2 OffSet(144,25)
ERO7 W 0 A_TakeInventory("IsAngery",99)
goto EvilAltEnd1
EvilAlt0://EvilLaser
ERO8 B 0 ACS_ExecuteAlways(444,0,2,3)//C_JAX_SPECTRUM_SET1
ERO8 B 0 ACS_ExecuteAlways(445,0,angle,pitch)//C_JAX_SPECTRUM_SET2
ERO8 B 0 A_PlaySoundEx("weapon/TrioCharge3","SoundSlot6")
ERO8 B 0 A_GiveInventory("TrioGigaFlag",1)
ERO8 B 0 A_JumpIfInventory("TrioExodiaFlag",1,2)
ERO8 B 0 A_TakeInventory("PowerSpread_ST",1)
ERO8 BCKL 1
goto EvilAlt0_0
EvilAlt0_0:
ERO8 K 1 A_GiveInventory("FireTrioSpectrum1",1)
ERO8 K 0 A_Refire("EvilAlt0_1")
goto EvilAlt0_1E
EvilAlt0_1:
ERO8 L 0 A_JumpIfInventory("PowerRage_ST",1,"EvilAlt0_2")
ERO8 L 1 A_GiveInventory("FireTrioSpectrum1",1)
ERO8 L 0 A_Refire("EvilAlt0_2")
goto EvilAlt0_2E
EvilAlt0_2:
ERO8 K 1 A_GiveInventory("FireTrioSpectrum1",1)
ERO8 K 0 A_Refire("EvilAlt0_3")
goto EvilAlt0_3E
EvilAlt0_3:
ERO8 L 0 A_JumpIfInventory("PowerRage_ST",1,"EvilAlt0_4")
ERO8 L 1 A_GiveInventory("FireTrioSpectrum1",1)
ERO8 L 0 A_Refire("EvilAlt0_4")
goto EvilAlt0_4E
EvilAlt0_4:
ERO8 K 1 A_GiveInventory("FireTrioSpectrum2",1)
ERO8 K 0 A_Refire("EvilAlt0_5")
goto EvilAlt0_5E
EvilAlt0_5:
ERO8 L 1 A_GiveInventory("FireTrioSpectrum3",1)
ERO8 L 0 A_JumpIfInventory("EvilRageAmmo",1,1)
goto EvilAlt0End
ERO8 K 0 A_Refire("EvilAlt0_0")
goto EvilAlt0End
EvilAlt0_0E:
ERO8 K 1 A_GiveInventory("FireTrioSpectrum1",1)
EvilAlt0_1E:
ERO8 L 0 A_JumpIfInventory("PowerRage_ST",1,"EvilAlt0_2E")
ERO8 L 1 A_GiveInventory("FireTrioSpectrum1",1)
EvilAlt0_2E:
ERO8 K 1 A_GiveInventory("FireTrioSpectrum1",1)
EvilAlt0_3E:
ERO8 K 0 A_JumpIfInventory("PowerRage_ST",1,"EvilAlt0_4E")
ERO8 H 1 A_GiveInventory("FireTrioSpectrum1",1)
EvilAlt0_4E:
ERO8 L 1 A_GiveInventory("FireTrioSpectrum2",1)
EvilAlt0_5E:
ERO8 K 1 A_GiveInventory("FireTrioSpectrum3",1)
EvilAlt0End:
ERO8 K 0 A_TakeInventory("TrioGigaFlag",1)
ERO8 LKCB 1
ERO8 B 6 A_GiveInventory("TrioSpreadRuneRevert",1)
ERO8 H 0 A_ClearRefire
goto Ready2+2

EvilAltEnd:
"----" "#" 0 A_TakeInventory("TrioGigaFlag",9)
"----" "#" 10 A_TakeInventory("TrioFireFlag",1)
"----" "#" 0 A_WeaponReady(14)
goto Ready2+2

EvilAltEnd1:
ERO8 W 0 A_TakeInventory("TrioGigaFlag",9)
ERO8 W 10 A_TakeInventory("TrioFireFlag",1)
ERO8 W 0 A_WeaponReady(14)
goto Ready2+2

EvilAltEnd2:
ERO8 Q 0 A_TakeInventory("TrioGigaFlag",9)
ERO8 Q 10 A_TakeInventory("TrioFireFlag",1)
ERO8 Q 0 A_WeaponReady(14)
goto Ready2+2

EvilAltEnd6:
ERO7 N 0 A_TakeInventory("TrioGigaFlag",9)
ERO7 N 10 A_TakeInventory("TrioFireFlag",1)
ERO7 N 0 A_WeaponReady(14)
goto Ready2+2

}
}

#include "actors/Wep/Megaman8/EvilFistRage.txt"

actor A1EvilAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 3
+INVENTORY.IGNORESKILL
}

actor EvilRageAmmo : Ammo
{
inventory.amount 1
inventory.maxamount 1120
+INVENTORY.IGNORESKILL
}

actor GigaMans : Inventory
{
inventory.amount 1
inventory.maxamount 8
}

actor GigaType : Inventory
{
inventory.amount 1
inventory.maxamount 8
}

actor IsAngery : Inventory
{
inventory.amount 1
inventory.maxamount 1
}

actor TrioFireFlag : OnceC {}
actor TrioGigaFlag : OnceC {}
actor TrioRuneFlag : OnceC {}


actor TrioRageOnPickup : CustomInventory
{
States
{
Pickup:
//TNT1 A 0 A_GiveInventory("SpreadRune_ST",1)
TNT1 A 0 A_GiveInventory("TrioRuneFlag",1)
TNT1 A 0 A_GiveInventory("TrioRageWeakness",1)
TNT1 A 0 A_GiveInventory("GuardDownFlag",1)
TNT1 A 0 A_SpawnItemEx("TrioRageFXBeginHelper",0,0,28,0,0,0,0,1)
TNT1 A 0 A_JumpIfInventory("IsLMSFlag",1,2)
TNT1 A 0 ACS_NamedExecuteAlways("cbm_CopyWepAmmoRatioGive",0,100)//DocRobot Ammo
stop
TNT1 A 0 ACS_NamedExecuteAlways("cbm_CopyWepAmmoRatioGive",0,50)//DocRobot Ammo
stop
//TNT1 A 0 ACS_ExecuteAlways(992,0,0,1)//MTank Ammo
}
}


actor TrioRageOffPickup : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_TakeInventory("TrioRuneFlag",1)
TNT1 A 0 A_TakeInventory("TrioRageWeakness",1)
TNT1 A 0 A_TakeInventory("GuardDownFlag",1)
TNT1 A 0 A_JumpIfInventory("TrioExodiaFlag",1,"Pickup2")
goto Pickup1
Pickup1:
TNT1 A 0 A_TakeInventory("PowerSpread_ST",1)
stop
Pickup2:
TNT1 A 0
stop

}
}

actor TrioSpreadRuneRevert : CustomInventory
{
states
{
Pickup:
TNT1 A 0 A_JumpIfInventory("TrioRuneFlag",1,"Pickup2")
stop
Pickup2:
TNT1 A 0 //A_GiveInventory("SpreadRune_ST",1)
stop
}
}

actor TrioRageWeakness : BasePowerWeak
{
damagefactor "Normal", 1.5
}

actor TrioRageManager : BasicHelper
{
States
{
Spawn:
TNT1 A 0
Spawn2:
TNT1 A 1
TNT1 A 0 A_JumpIf(ACS_ExecuteWithResult(C_CHECK_TARGET_OOC)==0,"Death")
TNT1 A 0 A_JumpIfInTargetInventory("EvilFistC",1,1)
goto Death
TNT1 A 0 A_GiveToTarget("TrioRageItem",1)
goto Spawn2
Death:
TNT1 A 0
stop
}
}

actor TrioRageItem : CustomInventory
{
States
{
Pickup:
TNT1 A 0
TNT1 A 0 A_JumpIfInventory("IsAngery",1,"End")
TNT1 A 0 A_JumpIfInventory("TrioRageWeakness",1,"Pickup_Rage")
TNT1 A 0 A_JumpIfInventory("PowerRage_ST",1,"PickupR")
TNT1 A 0 //A_JumpIfInventory("EnergyBalancerActive",1,2)
TNT1 A 0 A_GiveInventory("EvilRageAmmo",2)
goto End
TNT1 A 0 A_GiveInventory("EvilRageAmmo",3)
goto End
PickupR:
TNT1 A 0 //A_JumpIfInventory("EnergyBalancerActive",1,2)
TNT1 A 0 A_GiveInventory("EvilRageAmmo",4)
goto End
TNT1 A 0 A_GiveInventory("EvilRageAmmo",6)
goto End
Pickup_Rage:
TNT1 A 0 A_GiveInventory("TrioRageFX_Pickup",1)
TNT1 A 0 A_JumpIfInventory("TrioGigaFlag",1,"End")
TNT1 A 0 //A_JumpIfInventory("EnergyBalancerActive",1,3)
TNT1 A 0 A_TakeInventory("EvilRageAmmo",4)
TNT1 A 0 A_JumpIfInventory("EvilRageAmmo",1,"End")
goto Pickup_RageEnd
TNT1 A 0 A_TakeInventory("EvilRageAmmo",3)
TNT1 A 0 A_JumpIfInventory("EvilRageAmmo",1,"End")
goto Pickup_RageEnd
Pickup_RageEnd:
TNT1 A 0 A_GiveInventory("TrioRageOffPickup",1)
goto End

End:
TNT1 A 0
stop
}
}

actor TrioRageFX_Pickup : CustomInventory
{
States
{
Pickup:
TNT1 A 0 A_SpawnItemEx("TrioRageFX",random(24,56),0,random(8,48),0,0,2,random(0,359),1)
stop
}
}

actor TrioRageFX : BasicClientSide
{
renderstyle translucent
alpha 0.8
Scale 1.5
States
{
Spawn:
EVFL XXXXYYYYYZZZZZ 1 A_FadeOut(0.06)
wait
}
}

actor TrioRageFXBeginHelper : BasicHelper
{
States
{
Spawn:
TNT1 A 0
TNT1 A 1 A_SpawnItemEx("TrioRageFXBegin",0,0,0,0,0,0,0,1)
stop
}
}

actor TrioRageFXBegin : BasicClientSide
{
var int user_A;
reactiontime 18
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SetUserVar("user_A",random(0,20))
TNT1 A 0 A_SpawnItemEx("TrioRageFX",10,0,30,5,0,9,user_A+15,37)
TNT1 A 0 A_SpawnItemEx("TrioRageFX",20,0,20,10,0,6,user_A+10,37)
TNT1 A 0 A_SpawnItemEx("TrioRageFX",30,0,10,15,0,3,user_A+5,37)
TNT1 A 0 A_SpawnItemEx("TrioRageFX",40,0,0,20,0,0,user_A,37)
TNT1 A 0 A_SpawnItemEx("TrioRageFX",30,0,-10,15,0,-3,user_A+5,37)
TNT1 A 0 A_SpawnItemEx("TrioRageFX",20,0,-20,10,0,-6,user_A+10,37)
TNT1 A 0 A_SpawnItemEx("TrioRageFX",10,0,-30,5,0,-9,user_A+15,37)
TNT1 A 0 A_SetUserVar("user_A",user_A+20)
TNT1 A 0 A_Countdown
goto Spawn+2
Death:
TNT1 A 0
TNT1 A 0 A_SpawnItemEx("TrioRageFX",0,0,40,0,0,12,0,37)
TNT1 A 0 A_SpawnItemEx("TrioRageFX",0,0,-40,0,0,-12,0,37)
stop
}
}
//weapon/TrioCharge0
actor TrioSpectrumProtect : PowerProtection
{
Powerup.Duration 3
damagefactor "TrioSpectrum", 0.0
}

actor TrioSpectrumWeaken : BasePowerDamage
{
Powerup.Duration 200
damagefactor "Normal", 0.75
}

actor TrioSpectrumPickup : CustomInventory
{
States
{
Pickup:
TNT1 A 0 
TNT1 A 0 A_JumpIfInventory("TrioSpectrumWeaken",1,2)
TNT1 A 0 A_SpawnItemEx("TrioSpectrumWatcher")
TNT1 A 0 A_GiveInventory("TrioSpectrumWeaken",1)
TNT1 A 0 A_GiveInventory("TrioSpectrumProtect",1)
stop
}
}

actor TrioSpectrumWatcher : BasicHelper
{
States
{
Spawn:
TNT1 A 0 
TNT1 A 3 A_GiveToTarget("TrioSpectrumFX_P",1)
TNT1 A 0 A_JumpIfInTargetInventory("TrioSpectrumWeaken",1,"Spawn")
stop
}
}

actor TrioSpectrumFX_P : CustomInventory
{
States
{
Pickup:
TNT1 A 0
TNT1 A 0 A_SpawnItemEx("TrioSpectrumFX",random(24,64),0,Random(48,64),0,0,-1.5,random(0,359))//,1)
stop
}
}

actor TrioSpectrumFX
{
Translation "192:192=41:41", "198:198=249:249"
//+FLOATBOB
+NOGRAVITY
+THRUACTORS
+CLIENTSIDEONLY
+FORCEXYBILLBOARD
+MISSILE
RenderStyle "Translucent"
Alpha 0.6
ReactionTime 1//20
Damage(0)
Height 0
Radius 0
Scale 1.25
States
{
Spawn:
TNT1 A 0
TNT1 A 0 A_Jump(256,"Spawn2","Spawn3")
goto Spawn2
Spawn1:
TNT1 A 0 A_Jump(256,1,2,3,4,5,6,7,8,9,10)
ERO9 ABCDEFGHIJ 3 A_CountDown
goto Spawn2+1
Spawn2:
ERO9 K 40
ERO9 K 2 A_CountDown
wait
Spawn3:
ERO9 L 40
ERO9 L 2 A_CountDown
wait
Death:
"----" "#" 1 A_JumpIfInventory("CutterFlag",1,"Death2")
stop
Death2:
"----" "#" 0 ThrustThingZ(0,4,1,1)
"----" "###" 2 A_FadeOut(0.15)
stop
}
}

actor FireTrioSpectrum1 : TeamColor_CI
{
states
{
Pickup:
TNT1 A 0 A_TakeInventory("EvilRageAmmo",4)
TNT1 A 0 A_PlaySoundEx("weapon/TrioCharge4","Weapon")
TNT1 A 0 ACS_ExecuteAlways(C_JAX_SPECTRUM_TURN,0,angle,pitch)
TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle)*(ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle)<1 && (pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))*(pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))<1, "Pickup2")
Goto Super::Pickup
FireX:
TNT1 A 0 A_FireCustomMissile("TrioSpectrumS",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("TrioSpectrumSB",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("TrioSpectrumSR",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("TrioSpectrumSO",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("TrioSpectrumSP",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done

Pickup2:
TNT1 A 0 A_JumpIfInventory("LightTeamFlag",1,"FireB2")
TNT1 A 0 A_JumpIfInventory("WilyTeamFlag",1,"FireR2")
TNT1 A 0 A_JumpIfInventory("CossackTeamFlag",1,"FireO2")
TNT1 A 0 A_JumpIfInventory("KingTeamFlag",1,"FireP2")
TNT1 A 0 A_JumpIfInventory("IsInGame",1,"FireX2")
goto Done
FireX2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrumS",0,0,0,0,0,0)
goto Done
FireB2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrumSB",0,0,0,0,0,0)
goto Done
FireR2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrumSR",0,0,0,0,0,0)
goto Done
FireO2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrumSO",0,0,0,0,0,0)
goto Done
FireP2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrumSP",0,0,0,0,0,0)
goto Done
}
}

actor FireTrioSpectrum2 : TeamColor_CI
{
states
{
Pickup:
TNT1 A 0 A_TakeInventory("EvilRageAmmo",4)
TNT1 A 0 A_PlaySoundEx("weapon/TrioCharge4","Weapon")
TNT1 A 0 ACS_ExecuteAlways(C_JAX_SPECTRUM_TURN,0,angle,pitch)
TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle)*(ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle)<1 && (pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))*(pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))<1, "Pickup2")
Goto Super::Pickup
FireX:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2S",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
TNT1 A 0 A_FireCustomMissile("TrioSpectrum3",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SB",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
TNT1 A 0 A_FireCustomMissile("TrioSpectrum3B",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SR",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
TNT1 A 0 A_FireCustomMissile("TrioSpectrum3R",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SO",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
TNT1 A 0 A_FireCustomMissile("TrioSpectrum3O",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SP",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
TNT1 A 0 A_FireCustomMissile("TrioSpectrum3P",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done

Pickup2:
TNT1 A 0 A_JumpIfInventory("LightTeamFlag",1,"FireB2")
TNT1 A 0 A_JumpIfInventory("WilyTeamFlag",1,"FireR2")
TNT1 A 0 A_JumpIfInventory("CossackTeamFlag",1,"FireO2")
TNT1 A 0 A_JumpIfInventory("KingTeamFlag",1,"FireP2")
TNT1 A 0 A_JumpIfInventory("IsInGame",1,"FireX2")
goto Done
FireX2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2S",0,0,0,0,0,0)
TNT1 A 0 A_FireCustomMissile("TrioSpectrum3",0,0,0,0,0,0)
goto Done
FireB2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SB",0,0,0,0,0,0)
TNT1 A 0 A_FireCustomMissile("TrioSpectrum3B",0,0,0,0,0,0)
goto Done
FireR2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SR",0,0,0,0,0,0)
TNT1 A 0 A_FireCustomMissile("TrioSpectrum3R",0,0,0,0,0,0)
goto Done
FireO2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SO",0,0,0,0,0,0)
TNT1 A 0 A_FireCustomMissile("TrioSpectrum3O",0,0,0,0,0,0)
goto Done
FireP2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SP",0,0,0,0,0,0)
TNT1 A 0 A_FireCustomMissile("TrioSpectrum3P",0,0,0,0,0,0)
goto Done
}
}

actor FireTrioSpectrum3 : TeamColor_CI
{
states
{
Pickup:
TNT1 A 0 A_TakeInventory("EvilRageAmmo",4)
TNT1 A 0 A_PlaySoundEx("weapon/TrioCharge4","Weapon")
TNT1 A 0 ACS_ExecuteAlways(C_JAX_SPECTRUM_TURN,0,angle,pitch)
TNT1 A 0 A_JumpIf((ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle)*(ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle)<1 && (pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))*(pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))<1, "Pickup2")
Goto Super::Pickup
FireX:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2S",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SB",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SR",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SO",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SP",ACS_ExecuteWithResult(C_GET_USER_VAR,WEPANGLE_NUM,1)-angle,0,0,0,0,pitch-ACS_ExecuteWithResult(C_GET_USER_VAR,WEPPITCH_NUM,1))
goto Done

Pickup2:
TNT1 A 0 A_JumpIfInventory("LightTeamFlag",1,"FireB2")
TNT1 A 0 A_JumpIfInventory("WilyTeamFlag",1,"FireR2")
TNT1 A 0 A_JumpIfInventory("CossackTeamFlag",1,"FireO2")
TNT1 A 0 A_JumpIfInventory("KingTeamFlag",1,"FireP2")
TNT1 A 0 A_JumpIfInventory("IsInGame",1,"FireX2")
goto Done
FireX2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2S",0,0,0,0,0,0)
goto Done
FireB2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SB",0,0,0,0,0,0)
goto Done
FireR2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SR",0,0,0,0,0,0)
goto Done
FireO2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SO",0,0,0,0,0,0)
goto Done
FireP2:
TNT1 A 0 A_FireCustomMissile("TrioSpectrum2SP",0,0,0,0,0,0)
goto Done
}
}

actor EvilRotateItem : CustomInventory
{
inventory.amount 1
inventory.maxamount 1
inventory.icon "EvalIcon"
scale 2.0
inventory.pickupmessage "Who needs copyweps, anyway?"
+INVBAR
states
{
Spawn:
EVAL Z 1
loop
Use:
TNT1 A 0 A_PlaySoundEx("weapon/BoobeamBeep","SoundSlot6")
TNT1 A 0 A_JumpIfInventory("GigaMans",8,"Reboot")
TNT1 A 0 A_GiveInventory("GigaMans",1)
fail
Reboot:
TNT1 A 0 A_TakeInventory("GigaMans",99)
No:
TNT1 A 0
fail
}
}

actor TrioSpectrum
{
Translation "192:192=41:41", "198:198=249:249"
PROJECTILE
Obituary "$OB_EVILBEAM"
DamageType "TrioSpectrum"
+RIPPER
+DONTBLAST
+DONTREFLECT
+CLIENTSIDEONLY
//+NONETID
+PAINLESS
damage (0)
Radius 11
Height 11
speed 30
scale 3.5
states
{
Spawn:
EVFL A 0
EVFL A 0 A_SpawnItemEx("TrioSpectrum",0,0,0,momx,momy,momz,0,41)
EVFL A 0 A_Stop
Death:
EVFL A 1
stop
}
}

actor TrioSpectrumS : TrioSpectrum
{
+INVISIBLE
-CLIENTSIDEONLY
+NONETID
}

actor TrioSpectrumSB : TrioSpectrumS{translation "192:192=205:205","198:198=74:74"}
actor TrioSpectrumSR : TrioSpectrumS{translation "192:192=171:171","198:198=41:41"}
actor TrioSpectrumSO : TrioSpectrumS{translation "192:192=104:104","198:198=128:128"}
actor TrioSpectrumSP : TrioSpectrumS{translation "192:192=229:229","198:198=232:232"}

actor TrioSpectrum2 : TrioSpectrum
{
states
{
Spawn:
EVFL B 0
EVFL B 0 A_SpawnItemEx("TrioSpectrum2",0,0,0,momx,momy,momz,0,41)
EVFL B 0 A_Stop
Death:
EVFL B 1
stop
}
}

actor TrioSpectrum2S : TrioSpectrum2
{
+INVISIBLE
-CLIENTSIDEONLY
+NONETID
}


actor TrioSpectrum2SB : TrioSpectrum2S{translation "192:192=205:205","198:198=74:74"}
actor TrioSpectrum2SR : TrioSpectrum2S{translation "192:192=171:171","198:198=41:41"}
actor TrioSpectrum2SO : TrioSpectrum2S{translation "192:192=104:104","198:198=128:128"}
actor TrioSpectrum2SP : TrioSpectrum2S{translation "192:192=229:229","198:198=232:232"}

actor TrioSpectrum3 : TrioSpectrum
{
damage (9)
+THRUGHOST
-PAINLESS
-CLIENTSIDEONLY
+NONETID
states
{
Spawn:
TNT1 A 0
TNT1 A 0 A_SpawnItemEx("TrioSpectrum3",0,0,0,momx,momy,momz,0,41)
TNT1 A 0 A_Stop
Death:
TNT1 A 0
stop
}
}

actor TrioSpectrum3B : TrioSpectrum3{translation "192:192=205:205","198:198=74:74"}
actor TrioSpectrum3R : TrioSpectrum3{translation "192:192=171:171","198:198=41:41"}
actor TrioSpectrum3O : TrioSpectrum3{translation "192:192=104:104","198:198=128:128"}
actor TrioSpectrum3P : TrioSpectrum3{translation "192:192=229:229","198:198=232:232"}


actor MidFistEvil : MidFistLefty
{
Translation "192:192=41:41", "198:198=249:249"
//Translation "192:192=176:176", "198:198=79:79"
Obituary "$OB_EVILFIST"
States
{
Spawn:
TNT1 A 0
TNT1 A 0 ACS_NamedExecuteAlways("BULL_Tidifier", 0)
SpawnLOOP:
EVFL CD 1
Loop
Death:
EVFL F 0 
EVFL F 0 A_Recoil(5)
EVFL CD 1 A_FadeOut
Goto Death+2
}
}

actor MidFistEvilB : MidFistEvil{translation "192:192=205:205","198:198=74:74"}
actor MidFistEvilR : MidFistEvil{translation "192:192=171:171","198:198=41:41"}
actor MidFistEvilO : MidFistEvil{translation "192:192=104:104","198:198=128:128"}
actor MidFistEvilP : MidFistEvil{translation "192:192=229:229","198:198=232:232"}


actor GigaFistEvil : GigaFistLefty
{
Translation "192:192=41:41", "198:198=249:249"
//Translation "192:192=176:176", "198:198=79:79"
Obituary "$OB_EVILFIST"
States
{
Spawn:
TNT1 A 0
TNT1 A 0 ACS_NamedExecuteAlways("BULL_Tidifier", 0)
SpawnLOOP:
EVFL F 2
EVFL F 1 A_SpawnItemEx("GigaFistEvilFX",64,0,0,momx/7,momy/7,momz/7,0,9)
EVFL G 2
loop
Death:
EVFL F 0 
EVFL F 0 A_Recoil(5)
EVFL F 1 A_FadeOut
Goto Death+2
}
}

actor GigaFistEvilB : GigaFistEvil{translation "192:192=205:205","198:198=74:74"}
actor GigaFistEvilR : GigaFistEvil{translation "192:192=171:171","198:198=41:41"}
actor GigaFistEvilO : GigaFistEvil{translation "192:192=104:104","198:198=128:128"}
actor GigaFistEvilP : GigaFistEvil{translation "192:192=229:229","198:198=232:232"}

Actor GigaFistEvilFX : BasicClientSide
{
States
{
Spawn:
TNT1 A 1
EVFL H 3
EVFL I 5
Goto Death
Death:
EVFL I 1 A_FadeOut(0.5)
Loop
}
}

actor EvilMain2_CI : TeamColor_CI
{
states
{
FireX:
TNT1 A 0 A_FireCustomMissile("MidFistEvil",0,0,8,0)
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("MidFistEvilB",0,0,8,0)
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("MidFistEvilR",0,0,8,0)
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("MidFistEvilO",0,0,8,0)
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("MidFistEvilP",0,0,8,0)
goto Done
}
}

actor EvilMain3_CI : TeamColor_CI
{
states
{
FireX:
TNT1 A 0 A_FireCustomMissile("GigaFistEvil",0,0,8,0)
goto Done
FireB:
TNT1 A 0 A_FireCustomMissile("GigaFistEvilB",0,0,8,0)
goto Done
FireR:
TNT1 A 0 A_FireCustomMissile("GigaFistEvilR",0,0,8,0)
goto Done
FireO:
TNT1 A 0 A_FireCustomMissile("GigaFistEvilO",0,0,8,0)
goto Done
FireP:
TNT1 A 0 A_FireCustomMissile("GigaFistEvilP",0,0,8,0)
goto Done
}
}
